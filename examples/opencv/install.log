

> brew install --cask adoptopenjdk8
or
> brew cask install homebrew/cask-versions/adoptopenjdk8

opencv 下载
https://sourceforge.net/projects/opencvlibrary/files/opencv-unix/3.4.3/

--- 安装依赖库
> yum -y install cmake gcc libarchive icu4c libtool libpng zlib libjpeg libtiff python nasm pkgconfig zlib-devel


--- 安装FFmpeg(或直接下载已编译好的命令包)
#http://trac.ffmpeg.org/wiki/CompilationGuide/Centos

>$ git clone git://source.ffmpeg.org/ffmpeg
>$ cd ffmpeg
>$ ./configure --enable-shared
>$ make
>$ sudo make install
>$ ffmpeg -version
ffmpeg version 5.0-tessus  https://evermeet.cx/ffmpeg/  Copyright (c) 2000-2022 the FFmpeg developers
built with Apple clang version 11.0.0 (clang-1100.0.33.17)
configuration: --cc=/usr/bin/clang --prefix=/opt/ffmpeg --extra-version=tessus --enable-avisynth --enable-fontconfig --enable-gpl --enable-libaom --enable-libass --enable-libbluray --enable-libdav1d --enable-libfreetype --enable-libgsm --enable-libmodplug --enable-libmp3lame --enable-libmysofa --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvmaf --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-version3 --pkg-config-flags=--static --disable-ffplay
libavutil      57. 17.100 / 57. 17.100
libavcodec     59. 18.100 / 59. 18.100
libavformat    59. 16.100 / 59. 16.100
libavdevice    59.  4.100 / 59.  4.100
libavfilter     8. 24.100 /  8. 24.100
libswscale      6.  4.100 /  6.  4.100
libswresample   4.  3.100 /  4.  3.100
libpostproc    56.  3.100 / 56.  3.100


--- 编译安装OpenCV(按需安装：opencv_contrib-3.4.3.zip)
> unzip opencv-3.4.3.zip
> cd opencv-3.4.3
> mkdir build
> cd build
> cmake ..
> make #超级慢
> make install
...
> opencv_version



--- 安装服务： imagemagick
> yum search imagemagick


--- 编译安装php扩展： imagick
> https://www.php.net/manual/en/imagick.setup.php
> http://pecl.php.net/package/imagick

--- 编译安装php扩展： facedetect
Install OpenCV (OpenCV 2.3.1)
Download facedetect source package > https://github.com/infusion/PHP-Facedetect
Unpack facedetect source package
Go to facedetect folder and type "phpize && ./configure && make && make install"
Make sure you have extension=facedetect.so in your php.ini
